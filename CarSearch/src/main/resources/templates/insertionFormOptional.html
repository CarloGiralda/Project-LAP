<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Car Information Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      padding: 0px;
    }

    form {
      max-width: 400px;
      margin: 0 auto;
    }

    label {
      display: block;
      margin-bottom: 8px;
    }

    input {
      width: 100%;
      padding: 8px;
      margin-bottom: 16px;
      box-sizing: border-box;
    }

    button {
      background-color: #4CAF50;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    button:hover {
      background-color: #45a049;
    }


    section {
        background-color:#008B8B;
        padding: 40px;

    }


  </style>
    <script>
        function submitForm() {
            // Replace these URLs with the ones you want to use
            var postUrl = "/insert/optional/car";
            var successUrl = "success.html";//TODO CREATE A CONTROLLER TAG TO RET THIS PAGE
            var problemUrl = "YOUR_PROBLEM_URL";

            // Get form data
            var email = document.getElementById("email").value;//TODO ADD IN URL
            var andr = document.getElementById("android").value;
            var apple = document.getElementById("apple").value;
            var sst = document.getElementById("startAndStop").value;
            var nav = document.getElementById("navigationsystem").value;
            var parkA = document.getElementById("parkingassistant").value;
            var parkC = document.getElementById("parkingcamera").value;
            var cc = document.getElementById("cruisecontrol").value;
            var usb = document.getElementById("usb").value;
            var su = document.getElementById("surroundaudio").value;
            const params={
                            email: email,
                            andr: andr,
                            apple: apple,
                            sst: sst,
                            nav: nav,
                            parkA: parkA,
                            parkA: parkA,
                            cc: cc,
                            usb: usb,
                            su: su
                            };

            // Create a new XMLHttpRequest object
            var xhr = new XMLHttpRequest();

            // Set up the request
            xhr.open("POST", postUrl, true);

            xhr.setRequestHeader('Content-type', 'application/json')
            //xhr.setRequestHeader('Access-Control-Allow-Origin',"*")

            // Define what happens on successful data submission
            xhr.onload = function () {
                if (200 === 200) {
                    // Redirect to the success page
                    window.location.href = successUrl;
                }else{
                    window.location.href= problemUrl;
                }
            };

            // Send the form data
            xhr.send(JSON.stringify(params)); // Make sure to stringify
        }
    </script>
</head>
<body>

<h2>Car Insertion Form</h2>

<form id="myForm" onsubmit="event.preventDefault(); submitForm();">
<section>
    <label for="android" >Android Auto</label>
    <input type="checkbox" id="android" name="assistant" field = "*{assistant}" value="Android" />

    <label for="apple">AppleCarPlay</label>
    <input type="checkbox" id="apple" name="assistant" field = "*{assistant}" value="Apple" />
    <br>

    <label for="startAndStop">Start and Stop:</label>
    <input type="checkbox" id="startAndStop" name="startAndStop" field="*{startAndStop}">
    <br>

    <label for="navigationsystem">Navigation System:</label>
    <input type="checkbox" id="navigationsystem" name="navigationsystem" field="*{navigationsystem}" >
    <br>

    <label for="parkingassistant">Parking Assistant:</label>
    <input type="checkbox" id="parkingassistant" name="parkingassistant" field="*{parkingassistant}" >
    <br>

    <label for="usb">Usb:</label>
    <input type="checkbox" id="usb" name="usb" field="*{usb}" >
    <br>


    <label for="cruisecontrol">Cruise Control:</label>
    <input type="checkbox" id="cruisecontrol" name="cruisecontrol" field="*{cruisecontrol}" >
    <br>


    <label for="parkingcamera">Parking Camera:</label>
    <input type="checkbox" id="parkingcamera" name="parkingcamera" field="*{parkingcamera}" >
    <br>


    <label for="surroundaudio">Surround Audio:</label>
    <input type="checkbox" id="surroundaudio" name="surroundaudio" field="*{psurroundaudio}" >
    <br>

  <button type="submit">Submit All</button>


</section>
</form>

</body>
</html>
